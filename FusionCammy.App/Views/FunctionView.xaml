<UserControl
    x:Class="FusionCammy.App.Views.FunctionView"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:local="clr-namespace:FusionCammy.App.Views"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    xmlns:vm="clr-namespace:FusionCammy.App.ViewModels"
    d:DataContext="{d:DesignInstance Type=vm:FunctionViewModel}"
    d:DesignHeight="680"
    d:DesignWidth="300"
    mc:Ignorable="d">

    <Grid>
        <Border Panel.ZIndex="0" ClipToBounds="True">
            <Border.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Offset="0.0" Color="#FF402090" />
                    <GradientStop Offset="0.5" Color="#FF802090" />
                    <GradientStop Offset="1.0" Color="#FF602090" />
                </LinearGradientBrush>
            </Border.Background>
            <Border.Effect>
                <BlurEffect Radius="40" />
            </Border.Effect>
        </Border>

        <Border
            Margin="10"
            Panel.ZIndex="1"
            Background="#66000000"
            CornerRadius="8" />

        <Border
            Margin="10"
            Panel.ZIndex="2"
            Background="Transparent">
            <StackPanel Margin="20">

                <TextBlock Style="{StaticResource TextBlock.Content.Title}" Text="Fusion Cammy 😸" />
                <TextBlock Style="{StaticResource TextBlock.Content.Subtitle}" Text="얼굴에 재미를 더해보세요" />

                <Border
                    Height="1"
                    Margin="0,10"
                    Background="#33FFFFFF" />

                <TextBlock Style="{StaticResource TextBlock.Section.Header}" Text="카메라 동작" />
                <Grid>
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="*" />
                        <ColumnDefinition Width="*" />
                    </Grid.ColumnDefinitions>

                    <!--  TODO : Command 할당 해야함  -->
                    <Button
                        Name="Button_StartCam"
                        Grid.Column="0"
                        Margin="5"
                        Command="{Binding StartCameraCommand}"
                        Content="📹 카메라 켜기"
                        Style="{StaticResource Button.Fluent}" />
                    <Button
                        Name="Button_StopCam"
                        Grid.Column="1"
                        Margin="5"
                        Command="{Binding StopCameraCommand}"
                        Content="📷 카메라 끄기"
                        Style="{StaticResource Button.Fluent}" />
                </Grid>

                <TextBlock Style="{StaticResource TextBlock.Section.Header}" Text="장식!" />
                <ItemsControl
                    x:Name="DecoItemsList"
                    Background="Transparent"
                    BorderThickness="0"
                    ItemsSource="{Binding Decorations}">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <ToggleButton
                                Margin="5,2"
                                IsChecked="{Binding IsSelected, Mode=TwoWay}"
                                Style="{StaticResource ToggleButton.Fluent}"
                                Command="{Binding }">
                                <Grid>
                                    <Grid.ColumnDefinitions>
                                        <ColumnDefinition Width="Auto" />
                                        <ColumnDefinition Width="*" />
                                    </Grid.ColumnDefinitions>
                                    <Image
                                        Width="40"
                                        Height="40"
                                        Margin="0,0,15,0"
                                        Source="{Binding PreviewImagePath}" />
                                    <TextBlock
                                        Grid.Column="1"
                                        VerticalAlignment="Center"
                                        FontSize="15"
                                        FontWeight="Normal"
                                        Text="{Binding Name}" />
                                </Grid>
                            </ToggleButton>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
                
            </StackPanel>
        </Border>
    </Grid>
</UserControl>